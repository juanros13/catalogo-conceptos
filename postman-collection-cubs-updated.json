{
  "info": {
    "name": "Sistema CUBS - Cat√°logo de Conceptos",
    "description": "Colecci√≥n completa de endpoints para el Sistema de Cat√°logo √önico de Bienes y Servicios (CUBS) del Gobierno de Tabasco",
    "version": "2.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "description": "URL base del Gateway Service"
    },
    {
      "key": "auth_url",
      "value": "http://localhost:8081",
      "description": "URL directa del Auth Service"
    },
    {
      "key": "validation_url",
      "value": "http://localhost:8085",
      "description": "URL directa del Validation Service"
    },
    {
      "key": "concept_mgmt_url",
      "value": "http://localhost:8086",
      "description": "URL directa del Concept Management Service"
    },
    {
      "key": "technical_concept_url",
      "value": "http://localhost:8083",
      "description": "URL directa del Technical Concept Service"
    },
    {
      "key": "budget_classification_url",
      "value": "http://localhost:8084",
      "description": "URL directa del Budget Classification Service"
    },
    {
      "key": "config_url",
      "value": "http://localhost:8888",
      "description": "URL del Config Server"
    },
    {
      "key": "eureka_url",
      "value": "http://localhost:8761",
      "description": "URL del Discovery Service (Eureka)"
    },
    {
      "key": "jwt_token",
      "value": "",
      "description": "JWT Token obtenido del login"
    },
    {
      "key": "refresh_token",
      "value": "",
      "description": "Refresh Token para renovar JWT"
    },
    {
      "key": "concept_id",
      "value": "",
      "description": "ID del concepto t√©cnico para operaciones espec√≠ficas"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{jwt_token}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "üîê Autenticaci√≥n",
      "item": [
        {
          "name": "Login - Obtener JWT Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.accessToken) {",
                  "        pm.collectionVariables.set('jwt_token', response.accessToken);",
                  "        pm.collectionVariables.set('refresh_token', response.refreshToken);",
                  "        console.log('‚úÖ JWT Token guardado exitosamente');",
                  "        console.log('Token expira en:', response.expiresIn, 'segundos');",
                  "    }",
                  "} else {",
                  "    console.log('‚ùå Error en login:', pm.response.text());",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"curp\": \"juanros13@gmail.com\",\n  \"password\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{auth_url}}/auth/login",
              "host": ["{{auth_url}}"],
              "path": ["auth", "login"]
            },
            "description": "Autenticaci√≥n con email y password para obtener JWT token"
          }
        },
        {
          "name": "Validar Token Actual",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{auth_url}}/auth/validate-token",
              "host": ["{{auth_url}}"],
              "path": ["auth", "validate-token"]
            },
            "description": "Valida si el JWT token actual es v√°lido"
          }
        },
        {
          "name": "Obtener Perfil Usuario",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{auth_url}}/auth/profile",
              "host": ["{{auth_url}}"],
              "path": ["auth", "profile"]
            },
            "description": "Obtiene el perfil del usuario autenticado"
          }
        }
      ]
    },
    {
      "name": "üìã Templates y Validaci√≥n",
      "item": [
        {
          "name": "Obtener Todos los Templates",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{validation_url}}/api/templates",
              "host": ["{{validation_url}}"],
              "path": ["api", "templates"]
            },
            "description": "Obtiene todos los templates de cap√≠tulos CUBS disponibles"
          }
        },
        {
          "name": "Template por Cap√≠tulo - MATERIALES",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{validation_url}}/api/templates/2000_MATERIALES",
              "host": ["{{validation_url}}"],
              "path": ["api", "templates", "2000_MATERIALES"]
            },
            "description": "Obtiene template espec√≠fico para cap√≠tulo de materiales"
          }
        },
        {
          "name": "Template por Cap√≠tulo - SERVICIOS",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{validation_url}}/api/templates/2000_SERVICIOS",
              "host": ["{{validation_url}}"],
              "path": ["api", "templates", "2000_SERVICIOS"]
            },
            "description": "Obtiene template espec√≠fico para cap√≠tulo de servicios"
          }
        },
        {
          "name": "Estructura de Template",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{validation_url}}/api/templates/2000_MATERIALES/structure",
              "host": ["{{validation_url}}"],
              "path": ["api", "templates", "2000_MATERIALES", "structure"]
            },
            "description": "Obtiene estructura completa del template para frontend"
          }
        },
        {
          "name": "Cap√≠tulos Disponibles",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{validation_url}}/api/templates/chapters",
              "host": ["{{validation_url}}"],
              "path": ["api", "templates", "chapters"]
            },
            "description": "Lista todos los cap√≠tulos disponibles"
          }
        },
        {
          "name": "Reglas de Validaci√≥n",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{validation_url}}/api/validation/rules",
              "host": ["{{validation_url}}"],
              "path": ["api", "validation", "rules"]
            },
            "description": "Obtiene todas las reglas de validaci√≥n disponibles"
          }
        },
        {
          "name": "Validar Concepto Completo",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Silla de Oficina Ergon√≥mica\",\n  \"description\": \"Silla ejecutiva con respaldo alto y soporte lumbar\",\n  \"area\": \"CGMAIG\",\n  \"chapter\": \"2000_MATERIALES\",\n  \"unitMeasure\": \"PIEZA\",\n  \"estimatedValue\": 2500.00,\n  \"specifications\": {\n    \"general\": \"Mobiliario de oficina\",\n    \"especifica\": \"Silla ejecutiva ergon√≥mica\",\n    \"presentacionProducto\": \"Unidad individual\",\n    \"composicionMateriales\": \"Metal, pl√°stico, tela\",\n    \"caracteristicasFisicas\": \"Alto respaldo, brazos ajustables\",\n    \"color\": \"Negro\",\n    \"mayoresEspecificaciones\": \"Certificaci√≥n ergon√≥mica ISO\"\n  }\n}"
            },
            "url": {
              "raw": "{{validation_url}}/api/validation/concept",
              "host": ["{{validation_url}}"],
              "path": ["api", "validation", "concept"]
            },
            "description": "Valida un concepto completo aplicando todas las reglas"
          }
        }
      ]
    },
    {
      "name": "üìù Gesti√≥n de Conceptos",
      "item": [
        {
          "name": "Health Check - Concept Management",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{concept_mgmt_url}}/api/area-concepts/health",
              "host": ["{{concept_mgmt_url}}"],
              "path": ["api", "area-concepts", "health"]
            },
            "description": "Verifica el estado del servicio de gesti√≥n de conceptos"
          }
        },
        {
          "name": "Conceptos Base por √Årea - CGMAIG",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{concept_mgmt_url}}/api/area-concepts/base-concepts/CGMAIG",
              "host": ["{{concept_mgmt_url}}"],
              "path": ["api", "area-concepts", "base-concepts", "CGMAIG"]
            },
            "description": "Obtiene conceptos t√©cnicos base disponibles para el √°rea CGMAIG"
          }
        },
        {
          "name": "Template por Cap√≠tulo",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{concept_mgmt_url}}/api/area-concepts/templates/2000_MATERIALES",
              "host": ["{{concept_mgmt_url}}"],
              "path": ["api", "area-concepts", "templates", "2000_MATERIALES"]
            },
            "description": "Obtiene estructura de template por cap√≠tulo"
          }
        },
        {
          "name": "Crear Concepto Espec√≠fico",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"area\": \"CGMAIG\",\n  \"baseConceptId\": 1,\n  \"chapterKey\": \"2000_MATERIALES\",\n  \"specificName\": \"Laptop Dell Inspiron 15 3000\",\n  \"unitMeasure\": \"PIEZA\",\n  \"estimatedValue\": 15000.00,\n  \"general\": \"Equipo de c√≥mputo\",\n  \"especifica\": \"Laptop para uso administrativo\",\n  \"presentacionProducto\": \"Unidad individual en caja original\",\n  \"composicionMateriales\": \"Pl√°stico ABS, metal, componentes electr√≥nicos\",\n  \"descripcionTecnica\": \"Procesador Intel i5, 8GB RAM, 256GB SSD\",\n  \"caracteristicasFisicas\": \"15.6 pulgadas, peso 2.1kg, color negro\",\n  \"color\": \"Negro\",\n  \"mayoresEspecificaciones\": \"Windows 11 Pro, garant√≠a 1 a√±o, teclado en espa√±ol\"\n}"
            },
            "url": {
              "raw": "{{concept_mgmt_url}}/api/area-concepts",
              "host": ["{{concept_mgmt_url}}"],
              "path": ["api", "area-concepts"]
            },
            "description": "Crea un nuevo concepto espec√≠fico para un √°rea"
          }
        },
        {
          "name": "Conceptos por √Årea - CGMAIG",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{concept_mgmt_url}}/api/area-concepts/area/CGMAIG?page=0&size=10",
              "host": ["{{concept_mgmt_url}}"],
              "path": ["api", "area-concepts", "area", "CGMAIG"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "10"
                }
              ]
            },
            "description": "Lista conceptos del √°rea CGMAIG con paginaci√≥n"
          }
        },
        {
          "name": "Enviar para Validaci√≥n",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{concept_mgmt_url}}/api/area-concepts/1/submit",
              "host": ["{{concept_mgmt_url}}"],
              "path": ["api", "area-concepts", "1", "submit"]
            },
            "description": "Env√≠a un concepto para validaci√≥n t√©cnica"
          }
        },
        {
          "name": "Aprobar Concepto",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"comments\": \"Concepto aprobado. Cumple con todos los requisitos t√©cnicos.\"\n}"
            },
            "url": {
              "raw": "{{concept_mgmt_url}}/api/area-concepts/1/approve",
              "host": ["{{concept_mgmt_url}}"],
              "path": ["api", "area-concepts", "1", "approve"]
            },
            "description": "Aprueba un concepto (solo validadores t√©cnicos)"
          }
        },
        {
          "name": "Rechazar Concepto",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"comments\": \"Concepto rechazado. Faltan especificaciones t√©cnicas detalladas.\"\n}"
            },
            "url": {
              "raw": "{{concept_mgmt_url}}/api/area-concepts/1/reject",
              "host": ["{{concept_mgmt_url}}"],
              "path": ["api", "area-concepts", "1", "reject"]
            },
            "description": "Rechaza un concepto con comentarios obligatorios"
          }
        },
        {
          "name": "Conceptos Pendientes de Validaci√≥n",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{concept_mgmt_url}}/api/area-concepts/pending-validation",
              "host": ["{{concept_mgmt_url}}"],
              "path": ["api", "area-concepts", "pending-validation"]
            },
            "description": "Lista todos los conceptos pendientes de validaci√≥n por √°rea"
          }
        }
      ]
    },
    {
      "name": "üèóÔ∏è Conceptos T√©cnicos Generales",
      "item": [
        {
          "name": "Health Check - Technical Concepts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{technical_concept_url}}/actuator/health",
              "host": ["{{technical_concept_url}}"],
              "path": ["actuator", "health"]
            },
            "description": "Verifica el estado del servicio de conceptos t√©cnicos"
          }
        },
        {
          "name": "Obtener Conceptos Activos para Captura",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{technical_concept_url}}/api/general-concepts",
              "host": ["{{technical_concept_url}}"],
              "path": ["api", "general-concepts"]
            },
            "description": "Lista todos los conceptos t√©cnicos activos disponibles para captura"
          }
        },
        {
          "name": "Conceptos por Cap√≠tulo - Materiales (2000)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{technical_concept_url}}/api/general-concepts?capitulo=2000",
              "host": ["{{technical_concept_url}}"],
              "path": ["api", "general-concepts"],
              "query": [
                {
                  "key": "capitulo",
                  "value": "2000"
                }
              ]
            },
            "description": "Obtiene conceptos t√©cnicos del cap√≠tulo 2000 (Materiales)"
          }
        },
        {
          "name": "Conceptos por Cap√≠tulo - Servicios (3000)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{technical_concept_url}}/api/general-concepts?capitulo=3000",
              "host": ["{{technical_concept_url}}"],
              "path": ["api", "general-concepts"],
              "query": [
                {
                  "key": "capitulo",
                  "value": "3000"
                }
              ]
            },
            "description": "Obtiene conceptos t√©cnicos del cap√≠tulo 3000 (Servicios)"
          }
        },
        {
          "name": "Obtener Concepto por ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{technical_concept_url}}/api/general-concepts/{{concept_id}}",
              "host": ["{{technical_concept_url}}"],
              "path": ["api", "general-concepts", "{{concept_id}}"]
            },
            "description": "Obtiene un concepto t√©cnico espec√≠fico por su ID (UUID)"
          }
        },
        {
          "name": "Crear Concepto T√©cnico General",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Equipo de C√≥mputo Est√°ndar\",\n  \"descripcion\": \"Equipo de c√≥mputo para uso administrativo general\",\n  \"capitulo\": 2000,\n  \"partida\": 5151,\n  \"unidadMedida\": \"PIEZA\",\n  \"areaFacultada\": \"CGMAIG\",\n  \"valorReferencial\": 25000.00,\n  \"especificacionesTecnicas\": {\n    \"procesador\": \"Intel Core i5 o superior\",\n    \"memoria\": \"8GB RAM DDR4\",\n    \"almacenamiento\": \"256GB SSD\",\n    \"conectividad\": \"WiFi, Bluetooth, USB 3.0\",\n    \"sistema\": \"Windows 11 Pro\",\n    \"garantia\": \"1 a√±o m√≠nimo\"\n  },\n  \"observaciones\": \"Concepto base para equipos de c√≥mputo administrativos\"\n}"
            },
            "url": {
              "raw": "{{technical_concept_url}}/api/general-concepts",
              "host": ["{{technical_concept_url}}"],
              "path": ["api", "general-concepts"]
            },
            "description": "Crea un nuevo concepto t√©cnico general (solo validadores t√©cnicos)"
          }
        },
        {
          "name": "Actualizar Concepto T√©cnico",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Equipo de C√≥mputo Est√°ndar - Actualizado\",\n  \"descripcion\": \"Equipo de c√≥mputo para uso administrativo con especificaciones actualizadas\",\n  \"valorReferencial\": 28000.00,\n  \"especificacionesTecnicas\": {\n    \"procesador\": \"Intel Core i5 11va gen o AMD Ryzen 5\",\n    \"memoria\": \"16GB RAM DDR4\",\n    \"almacenamiento\": \"512GB SSD NVMe\",\n    \"conectividad\": \"WiFi 6, Bluetooth 5.0, USB 3.2\",\n    \"sistema\": \"Windows 11 Pro\",\n    \"garantia\": \"2 a√±os\"\n  },\n  \"observaciones\": \"Concepto actualizado con mejores especificaciones\"\n}"
            },
            "url": {
              "raw": "{{technical_concept_url}}/api/general-concepts/{{concept_id}}",
              "host": ["{{technical_concept_url}}"],
              "path": ["api", "general-concepts", "{{concept_id}}"]
            },
            "description": "Actualiza un concepto t√©cnico existente"
          }
        },
        {
          "name": "Inactivar Concepto T√©cnico",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{technical_concept_url}}/api/general-concepts/{{concept_id}}?motivo=Especificaciones obsoletas",
              "host": ["{{technical_concept_url}}"],
              "path": ["api", "general-concepts", "{{concept_id}}"],
              "query": [
                {
                  "key": "motivo",
                  "value": "Especificaciones obsoletas"
                }
              ]
            },
            "description": "Inactiva un concepto t√©cnico con motivo obligatorio"
          }
        },
        {
          "name": "Reactivar Concepto T√©cnico",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{technical_concept_url}}/api/general-concepts/{{concept_id}}/reactivate?motivo=Concepto actualizado y v√°lido nuevamente",
              "host": ["{{technical_concept_url}}"],
              "path": ["api", "general-concepts", "{{concept_id}}", "reactivate"],
              "query": [
                {
                  "key": "motivo",
                  "value": "Concepto actualizado y v√°lido nuevamente"
                }
              ]
            },
            "description": "Reactiva un concepto t√©cnico previamente inactivado"
          }
        },
        {
          "name": "B√∫squeda Avanzada de Conceptos",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{technical_concept_url}}/api/general-concepts/search?capitulo=2000&areaFacultada=CGMAIG&estado=ACTIVO&searchTerm=equipo&page=0&size=10",
              "host": ["{{technical_concept_url}}"],
              "path": ["api", "general-concepts", "search"],
              "query": [
                {
                  "key": "capitulo",
                  "value": "2000"
                },
                {
                  "key": "areaFacultada",
                  "value": "CGMAIG"
                },
                {
                  "key": "estado",
                  "value": "ACTIVO"
                },
                {
                  "key": "searchTerm",
                  "value": "equipo"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "10"
                }
              ]
            },
            "description": "B√∫squeda avanzada con filtros m√∫ltiples y paginaci√≥n"
          }
        },
        {
          "name": "Conceptos de Mi √Årea",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{technical_concept_url}}/api/general-concepts/my-area?page=0&size=20",
              "host": ["{{technical_concept_url}}"],
              "path": ["api", "general-concepts", "my-area"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "Lista conceptos t√©cnicos del √°rea del usuario autenticado"
          }
        }
      ]
    },
    {
      "name": "üìä Clasificaci√≥n Presupuestaria",
      "item": [
        {
          "name": "Health Check - Budget Classifications",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/health",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "health"]
            },
            "description": "Verifica el estado del servicio de clasificaci√≥n presupuestaria"
          }
        },
        {
          "name": "Informaci√≥n del Servicio",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/info",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "info"]
            },
            "description": "Informaci√≥n detallada del servicio y estructura jer√°rquica"
          }
        },
        {
          "name": "Obtener Todos los Cap√≠tulos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/capitulos",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "capitulos"]
            },
            "description": "Lista todos los cap√≠tulos (nivel ra√≠z) - C√≥digos terminados en 000"
          }
        },
        {
          "name": "Clasificaci√≥n por C√≥digo Espec√≠fico",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/2111",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "2111"]
            },
            "description": "Obtiene informaci√≥n detallada de una clasificaci√≥n espec√≠fica"
          }
        },
        {
          "name": "Hijos Directos de un C√≥digo",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/2100/hijos",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "2100", "hijos"]
            },
            "description": "Obtiene todos los elementos hijos directos de una clasificaci√≥n"
          }
        },
        {
          "name": "Jerarqu√≠a Completa desde C√≥digo",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/2000/jerarquia",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "2000", "jerarquia"]
            },
            "description": "Obtiene la estructura jer√°rquica completa desde un c√≥digo espec√≠fico"
          }
        },
        {
          "name": "Clasificaciones por Nivel - Cap√≠tulos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/nivel/CAPITULO?page=0&size=10",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "nivel", "CAPITULO"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "10"
                }
              ]
            },
            "description": "Lista clasificaciones por nivel espec√≠fico con paginaci√≥n"
          }
        },
        {
          "name": "Clasificaciones por Nivel - Partidas Gen√©ricas",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/nivel/PARTIDA_GENERICA?page=0&size=20",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "nivel", "PARTIDA_GENERICA"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "Lista todas las partidas gen√©ricas (c√≥digos terminados en 00)"
          }
        },
        {
          "name": "B√∫squeda Avanzada con Filtros",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/search?nivel=PARTIDA&padreCodigo=2110&activo=true&searchTerm=oficina&page=0&size=10",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "search"],
              "query": [
                {
                  "key": "nivel",
                  "value": "PARTIDA"
                },
                {
                  "key": "padreCodigo",
                  "value": "2110"
                },
                {
                  "key": "activo",
                  "value": "true"
                },
                {
                  "key": "searchTerm",
                  "value": "oficina"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "10"
                }
              ]
            },
            "description": "B√∫squeda avanzada combinando m√∫ltiples filtros"
          }
        },
        {
          "name": "B√∫squeda por Texto Libre",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/search/text?searchTerm=materiales",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "search", "text"],
              "query": [
                {
                  "key": "searchTerm",
                  "value": "materiales"
                }
              ]
            },
            "description": "B√∫squeda por texto en nombres, descripciones y c√≥digos"
          }
        },
        {
          "name": "Breadcrumb - Ruta Jer√°rquica",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/2111/breadcrumb",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "2111", "breadcrumb"]
            },
            "description": "Obtiene la ruta completa desde la ra√≠z hasta el c√≥digo especificado"
          }
        },
        {
          "name": "Crear Nueva Clasificaci√≥n",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"codigo\": \"2114\",\n  \"nombre\": \"Material de archivo\",\n  \"descripcion\": \"Carpetas, folders y material de archivo y organizaci√≥n documental\",\n  \"orden\": 10\n}"
            },
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications"]
            },
            "description": "Crear nueva clasificaci√≥n presupuestaria (Solo administradores)"
          }
        },
        {
          "name": "Actualizar Clasificaci√≥n",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Material de archivo y organizaci√≥n\",\n  \"descripcion\": \"Carpetas, folders y material para organizaci√≥n documental y administrativa\",\n  \"orden\": 15\n}"
            },
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/2114",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "2114"]
            },
            "description": "Actualizar clasificaci√≥n existente (Solo administradores)"
          }
        },
        {
          "name": "Activar/Inactivar Clasificaci√≥n",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/2114/toggle-active?activo=false",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "2114", "toggle-active"],
              "query": [
                {
                  "key": "activo",
                  "value": "false"
                }
              ]
            },
            "description": "Cambiar estado activo/inactivo (Solo administradores)"
          }
        },
        {
          "name": "Verificar si se Puede Eliminar",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/2114/can-delete",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "2114", "can-delete"]
            },
            "description": "Verifica si una clasificaci√≥n puede ser eliminada sin afectar integridad"
          }
        },
        {
          "name": "Estad√≠sticas del Sistema",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{budget_classification_url}}/api/budget-classifications/statistics",
              "host": ["{{budget_classification_url}}"],
              "path": ["api", "budget-classifications", "statistics"]
            },
            "description": "Obtiene estad√≠sticas del sistema por nivel jer√°rquico"
          }
        }
      ]
    },
    {
      "name": "üåê Gateway (Rutas Unificadas)",
      "item": [
        {
          "name": "Templates v√≠a Gateway",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/validation/templates",
              "host": ["{{base_url}}"],
              "path": ["api", "validation", "templates"]
            },
            "description": "Acceso a templates a trav√©s del Gateway"
          }
        },
        {
          "name": "Validaci√≥n v√≠a Gateway",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Monitor LED 24 pulgadas\",\n  \"description\": \"Monitor para estaci√≥n de trabajo\",\n  \"area\": \"CGMAIG\",\n  \"chapter\": \"2000_MATERIALES\",\n  \"unitMeasure\": \"PIEZA\",\n  \"estimatedValue\": 3500.00,\n  \"specifications\": {\n    \"general\": \"Equipo de c√≥mputo\",\n    \"especifica\": \"Monitor LED Full HD\",\n    \"presentacionProducto\": \"Unidad individual\",\n    \"caracteristicasFisicas\": \"24 pulgadas, resoluci√≥n 1920x1080\",\n    \"color\": \"Negro\",\n    \"mayoresEspecificaciones\": \"Conectores HDMI y VGA\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/validation/concept",
              "host": ["{{base_url}}"],
              "path": ["api", "validation", "concept"]
            },
            "description": "Validaci√≥n de concepto a trav√©s del Gateway"
          }
        },
        {
          "name": "Conceptos v√≠a Gateway",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/area-concepts/area/CGMAIG",
              "host": ["{{base_url}}"],
              "path": ["api", "area-concepts", "area", "CGMAIG"]
            },
            "description": "Lista conceptos a trav√©s del Gateway"
          }
        },
        {
          "name": "Conceptos T√©cnicos v√≠a Gateway",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/general-concepts",
              "host": ["{{base_url}}"],
              "path": ["api", "general-concepts"]
            },
            "description": "Lista conceptos t√©cnicos generales a trav√©s del Gateway"
          }
        },
        {
          "name": "Crear Concepto T√©cnico v√≠a Gateway",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Mobiliario de Oficina Est√°ndar\",\n  \"descripcion\": \"Mobiliario b√°sico para oficinas gubernamentales\",\n  \"capitulo\": 2000,\n  \"partida\": 5151,\n  \"unidadMedida\": \"LOTE\",\n  \"areaFacultada\": \"CGMAIG\",\n  \"valorReferencial\": 15000.00,\n  \"especificacionesTecnicas\": {\n    \"escritorio\": \"120x60cm MDF laminado\",\n    \"silla\": \"Ergon√≥mica con respaldo medio\",\n    \"archivero\": \"3 gavetas con cerradura\",\n    \"acabados\": \"Laminado melam√≠nico resistente\"\n  },\n  \"observaciones\": \"Conjunto b√°sico de mobiliario por estaci√≥n de trabajo\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/general-concepts",
              "host": ["{{base_url}}"],
              "path": ["api", "general-concepts"]
            },
            "description": "Crea concepto t√©cnico general a trav√©s del Gateway"
          }
        },
        {
          "name": "Clasificaciones Presupuestarias v√≠a Gateway",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/budget-classifications/api/budget-classifications/capitulos",
              "host": ["{{base_url}}"],
              "path": ["budget-classifications", "api", "budget-classifications", "capitulos"]
            },
            "description": "Obtiene cap√≠tulos presupuestarios a trav√©s del Gateway"
          }
        },
        {
          "name": "Jerarqu√≠a Presupuestaria v√≠a Gateway",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/budget-classifications/api/budget-classifications/2000/jerarquia",
              "host": ["{{base_url}}"],
              "path": ["budget-classifications", "api", "budget-classifications", "2000", "jerarquia"]
            },
            "description": "Obtiene jerarqu√≠a presupuestaria completa a trav√©s del Gateway"
          }
        },
        {
          "name": "B√∫squeda Presupuestaria por Texto v√≠a Gateway",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/budget-classifications/api/budget-classifications/search/text?searchTerm=oficina",
              "host": ["{{base_url}}"],
              "path": ["budget-classifications", "api", "budget-classifications", "search", "text"],
              "query": [
                {
                  "key": "searchTerm",
                  "value": "oficina"
                }
              ]
            },
            "description": "B√∫squeda por texto en clasificaciones presupuestarias v√≠a Gateway"
          }
        },
        {
          "name": "Estad√≠sticas Presupuestarias v√≠a Gateway",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/budget-classifications/api/budget-classifications/statistics",
              "host": ["{{base_url}}"],
              "path": ["budget-classifications", "api", "budget-classifications", "statistics"]
            },
            "description": "Obtiene estad√≠sticas del sistema presupuestario v√≠a Gateway (requiere autenticaci√≥n)"
          }
        }
      ]
    },
    {
      "name": "‚öôÔ∏è Infraestructura y Monitoreo",
      "item": [
        {
          "name": "Eureka Dashboard",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{eureka_url}}/",
              "host": ["{{eureka_url}}"],
              "path": [""]
            },
            "description": "Dashboard de Eureka para ver servicios registrados"
          }
        },
        {
          "name": "Config Server Health",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{config_url}}/actuator/health",
              "host": ["{{config_url}}"],
              "path": ["actuator", "health"]
            },
            "description": "Estado del Config Server"
          }
        },
        {
          "name": "Configuraci√≥n - Validation Service",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{config_url}}/validation-service/dev",
              "host": ["{{config_url}}"],
              "path": ["validation-service", "dev"]
            },
            "description": "Configuraci√≥n del Validation Service"
          }
        },
        {
          "name": "Configuraci√≥n - Concept Management",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{config_url}}/concept-management-service/dev",
              "host": ["{{config_url}}"],
              "path": ["concept-management-service", "dev"]
            },
            "description": "Configuraci√≥n del Concept Management Service"
          }
        },
        {
          "name": "Health - Auth Service",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{auth_url}}/actuator/health",
              "host": ["{{auth_url}}"],
              "path": ["actuator", "health"]
            },
            "description": "Estado del Auth Service"
          }
        },
        {
          "name": "Health - Validation Service",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{validation_url}}/actuator/health",
              "host": ["{{validation_url}}"],
              "path": ["actuator", "health"]
            },
            "description": "Estado del Validation Service"
          }
        },
        {
          "name": "Health - Concept Management",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{concept_mgmt_url}}/actuator/health",
              "host": ["{{concept_mgmt_url}}"],
              "path": ["actuator", "health"]
            },
            "description": "Estado del Concept Management Service"
          }
        },
        {
          "name": "Health - Technical Concepts",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{technical_concept_url}}/actuator/health",
              "host": ["{{technical_concept_url}}"],
              "path": ["actuator", "health"]
            },
            "description": "Estado del Technical Concept Service"
          }
        },
        {
          "name": "Health - Budget Classifications",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{budget_classification_url}}/actuator/health",
              "host": ["{{budget_classification_url}}"],
              "path": ["actuator", "health"]
            },
            "description": "Estado del Budget Classification Service"
          }
        },
        {
          "name": "Gateway Health",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/actuator/health",
              "host": ["{{base_url}}"],
              "path": ["actuator", "health"]
            },
            "description": "Estado del Gateway Service"
          }
        }
      ]
    },
    {
      "name": "üß™ Casos de Prueba Espec√≠ficos",
      "item": [
        {
          "name": "Flujo Completo - Material de Oficina",
          "item": [
            {
              "name": "1. Login",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 200) {",
                      "    const response = pm.response.json();",
                      "    pm.collectionVariables.set('jwt_token', response.accessToken);",
                      "    console.log('‚úÖ Login exitoso');",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"curp\": \"juanros13@gmail.com\",\n  \"password\": \"123456\"\n}"
                },
                "url": {
                  "raw": "{{auth_url}}/auth/login",
                  "host": ["{{auth_url}}"],
                  "path": ["auth", "login"]
                }
              }
            },
            {
              "name": "2. Obtener Template MATERIALES",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "url": {
                  "raw": "{{validation_url}}/api/templates/2000_MATERIALES",
                  "host": ["{{validation_url}}"],
                  "path": ["api", "templates", "2000_MATERIALES"]
                }
              }
            },
            {
              "name": "3. Crear Concepto",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"area\": \"CGMAIG\",\n  \"baseConceptId\": 1,\n  \"chapterKey\": \"2000_MATERIALES\",\n  \"specificName\": \"Escritorio Ejecutivo L 160x120cm\",\n  \"unitMeasure\": \"PIEZA\",\n  \"estimatedValue\": 8500.00,\n  \"general\": \"Mobiliario de oficina\",\n  \"especifica\": \"Escritorio ejecutivo forma L\",\n  \"presentacionProducto\": \"Escritorio desarmado en caja\",\n  \"composicionMateriales\": \"MDF laminado, herrajes met√°licos\",\n  \"descripcionTecnica\": \"Escritorio en L con cajones y organizadores\",\n  \"caracteristicasFisicas\": \"160x120x75cm, superficie lisa antirrayas\",\n  \"color\": \"Nogal\",\n  \"mayoresEspecificaciones\": \"Incluye cajonera m√≥vil, organizador de cables\"\n}"
                },
                "url": {
                  "raw": "{{concept_mgmt_url}}/api/area-concepts",
                  "host": ["{{concept_mgmt_url}}"],
                  "path": ["api", "area-concepts"]
                }
              }
            },
            {
              "name": "4. Validar Concepto",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Escritorio Ejecutivo L 160x120cm\",\n  \"description\": \"Escritorio ejecutivo en forma de L para oficina\",\n  \"area\": \"CGMAIG\",\n  \"chapter\": \"2000_MATERIALES\",\n  \"unitMeasure\": \"PIEZA\",\n  \"estimatedValue\": 8500.00,\n  \"specifications\": {\n    \"general\": \"Mobiliario de oficina\",\n    \"especifica\": \"Escritorio ejecutivo forma L\",\n    \"presentacionProducto\": \"Escritorio desarmado en caja\",\n    \"composicionMateriales\": \"MDF laminado, herrajes met√°licos\",\n    \"descripcionTecnica\": \"Escritorio en L con cajones y organizadores\",\n    \"caracteristicasFisicas\": \"160x120x75cm, superficie lisa antirrayas\",\n    \"color\": \"Nogal\",\n    \"mayoresEspecificaciones\": \"Incluye cajonera m√≥vil, organizador de cables\"\n  }\n}"
                },
                "url": {
                  "raw": "{{validation_url}}/api/validation/concept",
                  "host": ["{{validation_url}}"],
                  "path": ["api", "validation", "concept"]
                }
              }
            }
          ]
        }
      ]
    }
  ]
}